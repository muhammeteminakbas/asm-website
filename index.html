<!doctype html>
<html lang="tr" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Taşkent Merkez Aile Sağlığı Merkezi</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #0284c7;
      --secondary: #10b981;
      --text: #1f2937;
      --bg: #ffffff;
      --surface: #f9fafb;
    }

    body {
      box-sizing: border-box;
      font-family: 'Source Sans 3', sans-serif;
    }
    html, body {
      height: 100%;
      margin: 0;
    }
    .scroll-smooth {
      scroll-behavior: smooth;
    }

    .btn-primary {
      background: var(--primary);
      color: #fff;
    }

    .btn-primary:hover {
      filter: brightness(0.95);
    }

    .btn-secondary {
      background: var(--secondary);
      color: #fff;
    }

    .btn-secondary:hover {
      filter: brightness(0.95);
    }

    .focus-ring:focus-visible {
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full bg-white text-gray-800">
  <div id="app-wrapper" class="w-full h-full overflow-auto scroll-smooth">
   <!-- Main Site -->
   <div id="main-site"><!-- Header -->
    <header id="main-header" class="bg-white border-b border-gray-100 sticky top-0 z-50 shadow-sm">
     <div class="max-w-6xl mx-auto px-4 py-3">
      <div class="flex items-center justify-between">
       <div class="flex items-center gap-3">
       <div class="w-12 h-12 rounded-full bg-white ring-1 ring-gray-200 flex items-center justify-center overflow-hidden">
        <img id="site-logo" src="" alt="Logo" class="w-full h-full object-cover hidden">
        <svg id="site-logo-fallback" class="w-7 h-7 text-sky-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 11v4m-2-2h4" />
         </svg>
        </div>
        <div>
         <h1 id="site-title" class="text-lg font-bold text-gray-800">Aile Sağlığı Merkezi</h1>
         <p class="text-xs text-gray-500">T.C. Sağlık Bakanlığı</p>
        </div>
       </div>
       <nav class="hidden md:flex items-center gap-6"><a href="#anasayfa" class="text-sm font-medium text-gray-600 hover:text-sky-600 transition-colors">Ana Sayfa</a> <a href="#hakkimizda" class="text-sm font-medium text-gray-600 hover:text-sky-600 transition-colors">Hakkımızda</a> <a href="#hizmetler" class="text-sm font-medium text-gray-600 hover:text-sky-600 transition-colors">Hizmetlerimiz</a> <a href="#ekibimiz" class="text-sm font-medium text-gray-600 hover:text-sky-600 transition-colors">Ekibimiz</a> <a href="#iletisim" class="text-sm font-medium btn-primary focus-ring px-4 py-2 rounded-lg transition-colors">İletişim</a>
       </nav><button id="mobile-menu-btn" class="md:hidden p-2 rounded-lg hover:bg-gray-100">
        <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg></button>
      </div>
      <nav id="mobile-menu" class="hidden md:hidden mt-4 pb-4 border-t border-gray-100 pt-4">
       <div class="flex flex-col gap-3"><a href="#anasayfa" class="text-sm font-medium text-gray-600 hover:text-sky-600 py-2">Ana Sayfa</a> <a href="#hakkimizda" class="text-sm font-medium text-gray-600 hover:text-sky-600 py-2">Hakkımızda</a> <a href="#hizmetler" class="text-sm font-medium text-gray-600 hover:text-sky-600 py-2">Hizmetlerimiz</a> <a href="#ekibimiz" class="text-sm font-medium text-gray-600 hover:text-sky-600 py-2">Ekibimiz</a> <a href="#iletisim" class="text-sm font-medium btn-primary focus-ring px-4 py-2 rounded-lg text-center">İletişim</a>
       </div>
      </nav>
     </div>
    </header><!-- Image Gallery Slider -->
    <section id="galeri" class="relative bg-gray-900 overflow-hidden">
     <div id="gallery-slider" class="relative w-full h-[500px] md:h-[600px]"><!-- Slides will be loaded here -->
    </div><!-- Navigation Arrows --> <button type="button" aria-label="Önceki görsel" id="prev-slide" class="absolute left-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-full flex items-center justify-center transition-all focus-ring">
      <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
     </svg></button> <button type="button" aria-label="Sonraki görsel" id="next-slide" class="absolute right-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-full flex items-center justify-center transition-all focus-ring">
      <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg></button> <!-- Dots Indicator -->
     <div id="gallery-dots" class="absolute bottom-6 left-1/2 -translate-x-1/2 z-20 flex gap-2"><!-- Dots will be loaded here -->
     </div>
    </section><!-- Hero Section -->
    <section id="anasayfa" class="bg-gradient-to-br from-sky-50 via-white to-emerald-50 py-16 md:py-24">
     <div class="max-w-6xl mx-auto px-4">
      <div class="flex flex-col md:flex-row items-center gap-12">
       <div class="flex-1 text-center md:text-left">
        <div class="inline-flex items-center gap-2 bg-sky-100 text-sky-700 px-4 py-2 rounded-full text-sm font-medium mb-6">
         <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
         </svg> T.C. Sağlık Bakanlığı'na Bağlı
        </div>
        <h2 id="hero-title" class="text-4xl md:text-5xl font-bold text-gray-800 mb-4 leading-tight">Sağlığınız Güvende</h2>
        <p id="hero-subtitle" class="text-xl text-gray-600 mb-8">Ailenizin sağlığı için yanınızdayız. Uzman kadromuz ve modern yaklaşımımızla sizlere en kaliteli birinci basamak sağlık hizmetini sunuyoruz.</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center md:justify-start"><a href="#iletisim" class="inline-flex items-center justify-center gap-2 btn-primary focus-ring px-6 py-3 rounded-lg font-medium transition-colors">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
          </svg> Randevu Alın </a> <a href="#hizmetler" class="inline-flex items-center justify-center gap-2 bg-white hover:bg-gray-50 text-gray-700 px-6 py-3 rounded-lg font-medium border border-gray-200 transition-colors"> Hizmetlerimiz 
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg></a>
        </div>
       </div>
       <div class="flex-1">
        <div class="relative">
         <div class="w-full aspect-square max-w-md mx-auto bg-gradient-to-br from-sky-100 to-emerald-100 rounded-3xl flex items-center justify-center overflow-hidden">
          <img id="hero-logo" src="" alt="Logo" class="w-full h-full object-contain hidden">
          <div id="hero-logo-fallback" class="flex items-center justify-center">
           <svg class="w-48 h-48 text-sky-600 opacity-80" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
          </svg>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </section><!-- Çalışma Saatleri Banner -->
    <section class="bg-sky-600 py-6">
     <div class="max-w-6xl mx-auto px-4">
      <div class="flex flex-col md:flex-row items-center justify-between gap-4">
       <div class="flex items-center gap-3 text-white">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg><span class="font-semibold">Çalışma Saatleri</span>
       </div>
       <div class="flex flex-wrap items-center justify-center gap-6 text-white text-sm">
        <div class="flex items-center gap-2"><span class="font-medium">Pazartesi - Cuma:</span> <span id="weekday-hours">08:00 - 17:00</span>
        </div>
        <div class="w-px h-4 bg-white/30 hidden md:block"></div>
        <div class="flex items-center gap-2"><span class="font-medium">Cumartesi:</span> <span id="saturday-hours">08:00 - 13:00</span>
        </div>
        <div class="w-px h-4 bg-white/30 hidden md:block"></div>
        <div class="flex items-center gap-2"><span class="font-medium">Pazar:</span> <span id="sunday-hours" class="text-sky-200">Kapalı</span>
        </div>
       </div>
      </div>
     </div>
    </section><!-- Hakkımızda -->
    <section id="hakkimizda" class="py-16 bg-white">
     <div class="max-w-6xl mx-auto px-4">
      <div class="flex flex-col md:flex-row gap-12 items-center">
       <div class="flex-1">
        <div class="w-full aspect-square md:aspect-[4/3] bg-gradient-to-br from-sky-50 to-emerald-50 rounded-3xl border border-gray-100 shadow-sm flex items-center justify-center overflow-hidden">
         <img id="about-logo" src="" alt="Taşkent Merkez Aile Sağlığı Merkezi logosu" class="w-full h-full object-contain hidden">
         <div id="about-logo-fallback" class="text-center p-10">
          <div class="w-20 h-20 mx-auto bg-white rounded-2xl ring-1 ring-gray-200 flex items-center justify-center mb-4">
           <svg class="w-10 h-10 text-sky-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6.5V4m0 16v-2.5M6.5 12H4m16 0h-2.5M8.5 8.5l-1.8-1.8M17.3 17.3l-1.8-1.8M15.5 8.5l1.8-1.8M6.7 17.3l1.8-1.8" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 7.5a4.5 4.5 0 100 9 4.5 4.5 0 000-9z" />
           </svg>
          </div>
          <p class="text-sm font-semibold text-gray-800">Taşkent Merkez Aile Sağlığı Merkezi</p>
         </div>
        </div>
       </div>
       <div class="flex-1"><span class="inline-block text-sky-600 font-semibold text-sm uppercase tracking-wider mb-2">Hakkımızda</span>
        <h3 id="about-title" class="text-3xl font-bold text-gray-800 mb-6">Güvenilir Sağlık Hizmeti</h3>
        <p id="about-p1" class="text-gray-600 mb-4 leading-relaxed">Aile Sağlığı Merkezimiz, T.C. Sağlık Bakanlığı bünyesinde faaliyet gösteren birinci basamak sağlık kuruluşudur. 2010 yılından bu yana halkımıza kesintisiz sağlık hizmeti sunmaktayız.</p>
        <p id="about-p2" class="text-gray-600 mb-6 leading-relaxed">Amacımız, koruyucu sağlık hizmetleri başta olmak üzere, aile hekimliği kapsamında tüm vatandaşlarımıza eşit, kaliteli ve erişilebilir sağlık hizmeti sunmaktır.</p>
        <div class="flex items-center gap-4">
         <div class="flex items-center gap-2 text-emerald-600">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
          </svg><span class="text-sm font-medium">Ücretsiz Hizmet</span>
         </div>
         <div class="flex items-center gap-2 text-emerald-600">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
          </svg><span class="text-sm font-medium">Uzman Kadro</span>
         </div>
        </div>
       </div>
      </div>
     </div>
    </section><!-- Hizmetlerimiz -->
    <section id="hizmetler" class="py-16 bg-gray-50">
     <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-12"><span class="inline-block text-sky-600 font-semibold text-sm uppercase tracking-wider mb-2">Hizmetlerimiz</span>
       <h3 class="text-3xl font-bold text-gray-800 mb-4">Sunduğumuz Sağlık Hizmetleri</h3>
       <p class="text-gray-600 max-w-2xl mx-auto">Birinci basamak sağlık hizmetleri kapsamında ailenizin tüm sağlık ihtiyaçlarını karşılıyoruz.</p>
      </div>
      <div id="services-container" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"><!-- Services will be loaded here -->
      </div>
     </div>
    </section><!-- Ekibimiz -->
    <section id="ekibimiz" class="py-16 bg-white">
     <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-12"><span class="inline-block text-sky-600 font-semibold text-sm uppercase tracking-wider mb-2">Ekibimiz</span>
       <h3 class="text-3xl font-bold text-gray-800 mb-4">Hekimlerimiz ve Sağlık Personelimiz</h3>
       <p class="text-gray-600 max-w-2xl mx-auto">Deneyimli ve güler yüzlü ekibimizle her zaman yanınızdayız.</p>
      </div>
      <div class="space-y-12">
       <div>
        <div class="flex items-center gap-3 mb-4">
         <div class="w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-emerald-500 flex items-center justify-center">
          <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
         </div>
         <h4 class="text-xl font-semibold text-gray-800">Hekimlerimiz</h4>
        </div>
        <div id="doctors-container" class="grid md:grid-cols-2 lg:grid-cols-4 gap-6"><!-- Doctors will be loaded here --></div>
       </div>
       <div>
        <div class="flex items-center gap-3 mb-4">
         <div class="w-10 h-10 rounded-full bg-gradient-to-br from-emerald-500 to-sky-500 flex items-center justify-center">
          <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
         </div>
         <h4 class="text-xl font-semibold text-gray-800">Sağlık Personeli</h4>
        </div>
        <div id="staff-container" class="grid md:grid-cols-2 lg:grid-cols-4 gap-6"><!-- Staff will be loaded here --></div>
       </div>
      </div>
     </div>
    </section><!-- İletişim -->
    <section id="iletisim" class="py-16 bg-gray-50">
     <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-12"><span class="inline-block text-sky-600 font-semibold text-sm uppercase tracking-wider mb-2">İletişim</span>
       <h3 class="text-3xl font-bold text-gray-800 mb-4">Bize Ulaşın</h3>
       <p class="text-gray-600 max-w-2xl mx-auto">Sorularınız veya randevu talepleriniz için bizimle iletişime geçebilirsiniz.</p>
      </div>
      <div class="grid md:grid-cols-2 gap-8">
       <div class="space-y-6">
        <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100">
         <div class="flex items-start gap-4">
          <div class="w-12 h-12 bg-sky-100 rounded-xl flex items-center justify-center flex-shrink-0">
           <svg class="w-6 h-6 text-sky-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
           </svg>
          </div>
          <div>
           <h4 class="font-semibold text-gray-800 mb-1">Adres</h4>
           <p id="address-text" class="text-gray-600">Atatürk Mahallesi, Sağlık Caddesi No:15<br>
            Merkez / Ankara</p>
          </div>
         </div>
        </div>
        <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100">
         <div class="flex items-start gap-4">
          <div class="w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center flex-shrink-0">
           <svg class="w-6 h-6 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
           </svg>
          </div>
          <div>
           <h4 class="font-semibold text-gray-800 mb-1">Telefon</h4>
           <p id="phone-display" class="text-gray-600">(0312) 123 45 67</p>
           <p class="text-gray-500 text-sm mt-1">Randevu ve bilgi için</p>
          </div>
         </div>
        </div>
        <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100">
         <div class="flex items-start gap-4">
          <div class="w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center flex-shrink-0">
           <svg class="w-6 h-6 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
           </svg>
          </div>
          <div>
           <h4 class="font-semibold text-gray-800 mb-2">Çalışma Saatleri</h4>
           <div class="space-y-1 text-sm">
            <div class="flex justify-between"><span class="text-gray-600">Pazartesi - Cuma</span> <span id="weekday-hours-contact" class="font-medium text-gray-800">08:00 - 17:00</span>
            </div>
            <div class="flex justify-between"><span class="text-gray-600">Cumartesi</span> <span id="saturday-hours-contact" class="font-medium text-gray-800">08:00 - 13:00</span>
            </div>
            <div class="flex justify-between"><span class="text-gray-600">Pazar</span> <span id="sunday-hours-contact" class="font-medium text-gray-500">Kapalı</span>
            </div>
           </div>
          </div>
         </div>
        </div>
        <div class="bg-sky-600 rounded-2xl p-6 text-white">
         <div class="flex items-center gap-3 mb-3">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <h4 class="font-semibold">ALO 182 Randevu Hattı</h4>
         </div>
         <p class="text-sky-100 text-sm">MHRS (Merkezi Hekim Randevu Sistemi) üzerinden veya ALO 182 hattından randevu alabilirsiniz.</p>
        </div>
       </div>
       <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
        <div class="w-full h-full min-h-[400px] rounded-xl overflow-hidden">
         <iframe src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d563.8184866116518!2d32.49633981768161!3d36.927675480129935!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2s!5e0!3m2!1str!2str!4v1769066046410!5m2!1str!2str" width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" class="w-full h-full min-h-[400px] rounded-xl"></iframe>
        </div>
       </div>
      </div>
     </div>
    </section><!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
     <div class="max-w-6xl mx-auto px-4">
      <div class="grid md:grid-cols-3 gap-8 mb-8">
       <div>
        <div class="flex items-center gap-3 mb-4">
         <div class="w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-emerald-500 flex items-center justify-center">
          <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 11v4m-2-2h4" />
          </svg>
         </div>
         <div>
          <p id="footer-title" class="font-semibold">Aile Sağlığı Merkezi</p>
          <p class="text-xs text-gray-400">T.C. Sağlık Bakanlığı</p>
         </div>
        </div>
        <p class="text-gray-400 text-sm">Ailenizin sağlığı için güvenilir adresiniz.</p>
       </div>
       <div>
        <h4 class="font-semibold mb-4">Hızlı Erişim</h4>
        <ul class="space-y-2 text-sm text-gray-400">
         <li><a href="#anasayfa" class="hover:text-white transition-colors">Ana Sayfa</a></li>
         <li><a href="#hakkimizda" class="hover:text-white transition-colors">Hakkımızda</a></li>
         <li><a href="#hizmetler" class="hover:text-white transition-colors">Hizmetlerimiz</a></li>
         <li><a href="#ekibimiz" class="hover:text-white transition-colors">Ekibimiz</a></li>
         <li><a href="#iletisim" class="hover:text-white transition-colors">İletişim</a></li>
        </ul>
       </div>
       <div>
        <h4 class="font-semibold mb-4">İletişim</h4>
        <ul class="space-y-2 text-sm text-gray-400">
         <li class="flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
          </svg><span id="footer-phone">(0312) 123 45 67</span></li>
         <li class="flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg><span id="footer-address">Atatürk Mahallesi, Sağlık Caddesi No:15</span></li>
        </ul>
       </div>
      </div>
      <div class="border-t border-gray-700 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-400">
       <p>© 2026 Aile Sağlığı Merkezi. Tüm hakları saklıdır.</p>
      </div>
     </div>
    </footer>
   </div>
  </div>
  <script>
    let allData = [];
    let currentSlide = 0;
    let slideInterval = null;
    
    const defaultConfig = {
      site_title: 'Aile Sağlığı Merkezi',
      hero_title: 'Sağlığınız Güvende',
      hero_subtitle: 'Ailenizin sağlığı için yanınızdayız. Uzman kadromuz ve modern yaklaşımımızla sizlere en kaliteli birinci basamak sağlık hizmetini sunuyoruz.',
      phone_number: '(0312) 123 45 67',
      address_text: 'Atatürk Mahallesi, Sağlık Caddesi No:15',
      address_district: 'Merkez',
      address_city: 'Ankara',
      primary_color: '#0284c7',
      secondary_color: '#10b981',
      text_color: '#1f2937',
      background_color: '#ffffff',
      surface_color: '#f9fafb',
      font_family: 'Source Sans 3',
      font_size: 16
    };

    let config = { ...defaultConfig };

    function applyThemeFromConfig() {
      const root = document.documentElement;
      root.style.setProperty('--primary', config.primary_color || defaultConfig.primary_color);
      root.style.setProperty('--secondary', config.secondary_color || defaultConfig.secondary_color);
      root.style.setProperty('--text', config.text_color || defaultConfig.text_color);
      root.style.setProperty('--bg', config.background_color || defaultConfig.background_color);
      root.style.setProperty('--surface', config.surface_color || defaultConfig.surface_color);
    }

    // Cloudflare API endpoint (Pages Functions)
    const API_ENDPOINT = '/api/data';

    async function fetchFromAPI() {
      try {
        const response = await fetch(API_ENDPOINT);
        if (response.ok) {
          return await response.json();
        }
      } catch (error) {
        console.warn('API hatası, localStorage kullanılıyor:', error);
      }
      return null;
    }

    async function saveToAPI(data) {
      try {
        const response = await fetch(API_ENDPOINT, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });
        return response.ok;
      } catch (error) {
        console.warn('API kaydetme hatası:', error);
        return false;
      }
    }

    function createLocalDataSdk(storageKey = 'asm_website_data') {
      let handler = null;
      let useAPI = true; // API kullanımını kontrol et

      const safeParse = (raw) => {
        try {
          return raw ? JSON.parse(raw) : [];
        } catch {
          return [];
        }
      };

      const normalize = (arr) =>
        (Array.isArray(arr) ? arr : []).map((d) => ({
          ...d,
          __backendId: d.__backendId ?? d.id
        }));

      const readLocal = () => {
        try {
          return normalize(safeParse(localStorage.getItem(storageKey)));
        } catch {
          return [];
        }
      };

      const writeLocal = (arr) => {
        try {
          localStorage.setItem(storageKey, JSON.stringify(arr));
          return true;
        } catch {
          return false;
        }
      };

      const notify = (arr) => {
        allData = arr;
        handler?.onDataChanged?.(arr);
      };

      const findIndex = (arr, item) => {
        const key = item?.__backendId ?? item?.id;
        if (!key) return -1;
        return arr.findIndex((d) => (d.__backendId ?? d.id) === key);
      };

      const syncToAPI = async (arr) => {
        if (useAPI) {
          const success = await saveToAPI(arr);
          if (!success) {
            useAPI = false; // API çalışmıyorsa localStorage'a geç
          }
        }
        // Her durumda localStorage'a da kaydet (fallback)
        writeLocal(arr);
      };

      return {
        async init(h) {
          handler = h;
          let arr = [];
          
          // Önce API'den veri çekmeyi dene
          if (useAPI) {
            const apiData = await fetchFromAPI();
            if (apiData && Array.isArray(apiData) && apiData.length > 0) {
              arr = normalize(apiData);
              writeLocal(arr); // LocalStorage'a da kaydet
            } else {
              // API'de veri yoksa localStorage'dan oku
              arr = readLocal();
              // Eğer localStorage'da veri varsa API'ye senkronize et
              if (arr.length > 0) {
                await syncToAPI(arr);
              }
            }
          } else {
            // API yoksa localStorage'dan oku, ama boşsa varsayılan veriler yüklenecek (init fonksiyonunda)
            arr = readLocal();
          }
          
          notify(arr);
          return { isOk: true };
        },
        async create(item) {
          const arr = readLocal();
          const backendId = item?.__backendId ?? item?.id ?? `local-${Date.now()}`;
          const created = { ...item, __backendId: backendId, id: item?.id ?? backendId };
          arr.push(created);
          await syncToAPI(arr);
          notify(arr);
          return { isOk: true };
        },
        async update(item) {
          const arr = readLocal();
          const idx = findIndex(arr, item);
          if (idx === -1) return { isOk: false };
          arr[idx] = { ...arr[idx], ...item, __backendId: arr[idx].__backendId ?? arr[idx].id };
          await syncToAPI(arr);
          notify(arr);
          return { isOk: true };
        },
        async delete(item) {
          const arr = readLocal();
          const idx = findIndex(arr, item);
          if (idx === -1) return { isOk: false };
          arr.splice(idx, 1);
          await syncToAPI(arr);
          notify(arr);
          return { isOk: true };
        }
      };
    }

    if (!window.dataSdk || typeof window.dataSdk.init !== 'function') {
      window.dataSdk = createLocalDataSdk();
    }

    applyThemeFromConfig();

    const dataHandler = {
      onDataChanged(data) {
        allData = data;
        renderSite();
      }
    };

    async function onConfigChange(cfg) {
      config = { ...defaultConfig, ...cfg };
      applyThemeFromConfig();
      const customFont = config.font_family || defaultConfig.font_family;
      const baseFontStack = 'sans-serif';
      document.body.style.fontFamily = `'${customFont}', ${baseFontStack}`;
      const baseSize = config.font_size || defaultConfig.font_size;
      document.body.style.fontSize = `${baseSize}px`;
    }

    function mapToCapabilities(cfg) {
      return {
        recolorables: [
          {
            get: () => cfg.background_color || defaultConfig.background_color,
            set: (value) => {
              cfg.background_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ background_color: value });
            }
          },
          {
            get: () => cfg.surface_color || defaultConfig.surface_color,
            set: (value) => {
              cfg.surface_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ surface_color: value });
            }
          },
          {
            get: () => cfg.text_color || defaultConfig.text_color,
            set: (value) => {
              cfg.text_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ text_color: value });
            }
          },
          {
            get: () => cfg.primary_color || defaultConfig.primary_color,
            set: (value) => {
              cfg.primary_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ primary_color: value });
            }
          },
          {
            get: () => cfg.secondary_color || defaultConfig.secondary_color,
            set: (value) => {
              cfg.secondary_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ secondary_color: value });
            }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => cfg.font_family || defaultConfig.font_family,
          set: (value) => {
            cfg.font_family = value;
            if (window.elementSdk) window.elementSdk.setConfig({ font_family: value });
          }
        },
        fontSizeable: {
          get: () => cfg.font_size || defaultConfig.font_size,
          set: (value) => {
            cfg.font_size = value;
            if (window.elementSdk) window.elementSdk.setConfig({ font_size: value });
          }
        }
      };
    }

    function mapToEditPanelValues(cfg) {
      const general = allData.find(d => d.type === 'general');
      if (!general) return new Map();
      
      return new Map([
        ['site_title', general.site_title || cfg.site_title || defaultConfig.site_title],
        ['hero_title', general.hero_title || cfg.hero_title || defaultConfig.hero_title],
        ['hero_subtitle', general.hero_subtitle || cfg.hero_subtitle || defaultConfig.hero_subtitle],
        ['phone_number', general.phone_number || cfg.phone_number || defaultConfig.phone_number],
        ['address_text', general.address_text || cfg.address_text || defaultConfig.address_text],
        ['address_district', general.address_district || cfg.address_district || defaultConfig.address_district],
        ['address_city', general.address_city || cfg.address_city || defaultConfig.address_city]
      ]);
    }

    function renderGallery() {
      const galleryImages = allData.filter(d => d.type === 'gallery').sort((a, b) => (a.gallery_order || 0) - (b.gallery_order || 0));
      const gallerySlider = document.getElementById('gallery-slider');
      const galleryDots = document.getElementById('gallery-dots');

      if (!gallerySlider || !galleryDots) return;

      if (galleryImages.length === 0) {
        gallerySlider.innerHTML = '<div class="absolute inset-0 flex items-center justify-center bg-gray-800"><p class="text-white text-lg">Görsel yok</p></div>';
        galleryDots.innerHTML = '';
        return;
      }

      gallerySlider.innerHTML = galleryImages.map((img, idx) => `
        <div class="gallery-slide absolute inset-0 transition-all duration-700 ${idx === 0 ? 'opacity-100 z-10' : 'opacity-0 z-0 pointer-events-none'}" data-slide="${idx}" data-image-index="${idx}">
          <img src="${img.gallery_image_url}" alt="${img.gallery_title || ''}" loading="lazy" 
            onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'800\\' height=\\'600\\'%3E%3Crect fill=\\'%23334155\\' width=\\'800\\' height=\\'600\\'/%3E%3Ctext fill=\\'%23ffffff\\' font-family=\\'Arial\\' font-size=\\'24\\' x=\\'50%25\\' y=\\'50%25\\' text-anchor=\\'middle\\'%3EGörsel%20Yüklenemedi%3C/text%3E%3C/svg%3E'; this.alt='Görsel yüklenemedi';"
            class="w-full h-full object-cover cursor-pointer">

          <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent cursor-pointer"></div>
          <div class="absolute bottom-0 left-0 right-0 p-8 md:p-12 text-white z-10 cursor-pointer">
            <div class="max-w-6xl mx-auto">
              <h3 class="text-3xl md:text-4xl font-bold mb-3">${img.gallery_title || 'Başlık Yok'}</h3>
              <p class="text-lg md:text-xl text-gray-200 max-w-3xl line-clamp-2">${img.gallery_description ? (img.gallery_description.length > 150 ? img.gallery_description.substring(0, 150) + '...' : img.gallery_description) : ''}</p>
            </div>
          </div>
        </div>
      `).join('');

      galleryDots.innerHTML = galleryImages.map((_, idx) => `
        <button class="gallery-dot w-3 h-3 rounded-full transition-all ${idx === 0 ? 'bg-white w-8' : 'bg-white/50'}" data-slide="${idx}"></button>
      `).join('');

      currentSlide = 0;
      startSlideShow();
      attachGalleryListeners();
    }

    function showSlide(index) {
      const slides = document.querySelectorAll('.gallery-slide');
      const dots = document.querySelectorAll('.gallery-dot');
      
      if (slides.length === 0) return;

      // Tüm slaytları gizle ve tıklamayı kapat
      slides.forEach(slide => {
        slide.classList.remove('opacity-100', 'z-10');
        slide.classList.add('opacity-0', 'z-0', 'pointer-events-none');
      });
      
      dots.forEach(dot => {
        dot.classList.remove('bg-white', 'w-8');
        dot.classList.add('bg-white/50');
      });

      if (index >= slides.length) currentSlide = 0;
      else if (index < 0) currentSlide = slides.length - 1;
      else currentSlide = index;

      // Aktif slaytı göster ve tıklamayı aç
      slides[currentSlide].classList.remove('opacity-0', 'z-0', 'pointer-events-none');
      slides[currentSlide].classList.add('opacity-100', 'z-10');
      
      if (dots[currentSlide]) {
        dots[currentSlide].classList.remove('bg-white/50');
        dots[currentSlide].classList.add('bg-white', 'w-8');
      }
    }

    function nextSlide() {
      currentSlide++;
      const slides = document.querySelectorAll('.gallery-slide');
      if (currentSlide >= slides.length) currentSlide = 0;
      showSlide(currentSlide);
    }

    function prevSlide() {
      currentSlide--;
      if (currentSlide < 0) {
        const slides = document.querySelectorAll('.gallery-slide');
        currentSlide = slides.length - 1;
      }
      showSlide(currentSlide);
    }

    function startSlideShow() {
      if (slideInterval) clearInterval(slideInterval);
      slideInterval = setInterval(nextSlide, 5000);
    }

    function stopSlideShow() {
      if (slideInterval) clearInterval(slideInterval);
    }

    function attachGalleryListeners() {
      const prevBtn = document.getElementById('prev-slide');
      const nextBtn = document.getElementById('next-slide');
      const dots = document.querySelectorAll('.gallery-dot');

      if (prevBtn) {
        prevBtn.replaceWith(prevBtn.cloneNode(true));
        document.getElementById('prev-slide').addEventListener('click', () => {
          stopSlideShow();
          prevSlide();
          startSlideShow();
        });
      }

      if (nextBtn) {
        nextBtn.replaceWith(nextBtn.cloneNode(true));
        document.getElementById('next-slide').addEventListener('click', () => {
          stopSlideShow();
          nextSlide();
          startSlideShow();
        });
      }

      dots.forEach(dot => {
        dot.addEventListener('click', () => {
          stopSlideShow();
          const idx = parseInt(dot.dataset.slide, 10);
          currentSlide = Number.isFinite(idx) ? idx : 0;
          showSlide(currentSlide);
          startSlideShow();
        });
      });

      // Görsellere tıklama event'i ekle - ayrı sayfaya yönlendir
      const slides = document.querySelectorAll('.gallery-slide');
      slides.forEach((slide) => {
        slide.addEventListener('click', (e) => {
          // Navigation butonlarına tıklama durumunda yönlendirme yapma
          if (e.target.closest('#prev-slide') || e.target.closest('#next-slide') || e.target.closest('.gallery-dot')) {
            return;
          }
          // Tıklanan slide'ın data-image-index attribute'unu kullanarak detay sayfasına yönlendir
          const clickedSlide = e.currentTarget;
          const imageIndex = clickedSlide.dataset.imageIndex;
          if (imageIndex !== undefined && imageIndex !== null) {
            window.location.href = `gallery-detail.html?index=${encodeURIComponent(imageIndex)}`;
          } else {
            // Fallback: görünür olan slide'ı bul
            const visibleSlide = Array.from(slides).find(s => !s.classList.contains('opacity-0'));
            if (visibleSlide) {
              const visibleImageIndex = visibleSlide.dataset.imageIndex;
              if (visibleImageIndex !== undefined && visibleImageIndex !== null) {
                window.location.href = `gallery-detail.html?index=${encodeURIComponent(visibleImageIndex)}`;
              }
            }
          }
        });
      });
    }


    function renderSite() {
      const general = allData.find(d => d.type === 'general') || {};
      const hours = allData.find(d => d.type === 'hours') || {};
      const doctors = allData.filter(d => d.type === 'doctor');
      const staff = allData.filter(d => d.type === 'staff');
      const services = allData.filter(d => d.type === 'service');
      
      renderGallery();

      const logoImg = document.getElementById('site-logo');
      const logoFallback = document.getElementById('site-logo-fallback');
      if (logoImg && logoFallback) {
        if (general.logo_url) {
          logoImg.src = general.logo_url;
          logoImg.classList.remove('hidden');
          logoFallback.classList.add('hidden');
        } else {
          logoImg.src = '';
          logoImg.classList.add('hidden');
          logoFallback.classList.remove('hidden');
        }
      }

      document.getElementById('site-title').textContent = general.site_title || 'Aile Sağlığı Merkezi';
      document.getElementById('footer-title').textContent = general.site_title || 'Aile Sağlığı Merkezi';
      document.getElementById('hero-title').textContent = general.hero_title || 'Sağlığınız Güvende';
      document.getElementById('hero-subtitle').textContent = general.hero_subtitle || 'Ailenizin sağlığı için yanınızdayız.';

      const aboutTitleEl = document.getElementById('about-title');
      const aboutP1El = document.getElementById('about-p1');
      const aboutP2El = document.getElementById('about-p2');
      if (aboutTitleEl) {
        aboutTitleEl.textContent = general.about_title || 'Güvenilir Sağlık Hizmeti';
      }
      if (aboutP1El) {
        aboutP1El.textContent = general.about_p1 || 'Aile Sağlığı Merkezimiz, T.C. Sağlık Bakanlığı bünyesinde faaliyet gösteren birinci basamak sağlık kuruluşudur. 2010 yılından bu yana halkımıza kesintisiz sağlık hizmeti sunmaktayız.';
      }
      if (aboutP2El) {
        aboutP2El.textContent = general.about_p2 || 'Amacımız, koruyucu sağlık hizmetleri başta olmak üzere, aile hekimliği kapsamında tüm vatandaşlarımıza eşit, kaliteli ve erişilebilir sağlık hizmeti sunmaktır.';
      }

      const aboutLogoImg = document.getElementById('about-logo');
      const aboutLogoFallback = document.getElementById('about-logo-fallback');
      const heroLogoImg = document.getElementById('hero-logo');
      const heroLogoFallback = document.getElementById('hero-logo-fallback');
      const heroLogoUrl = general.hero_logo_url;
      const aboutLogoUrl = general.about_logo_url;
      const hasHeroLogo = !!heroLogoUrl;
      const hasAboutLogo = !!aboutLogoUrl;

      if (heroLogoImg && heroLogoFallback) {
        if (hasHeroLogo) {
          heroLogoImg.src = heroLogoUrl;
          heroLogoImg.classList.remove('hidden');
          heroLogoFallback.classList.add('hidden');
        } else {
          heroLogoImg.src = '';
          heroLogoImg.classList.add('hidden');
          heroLogoFallback.classList.remove('hidden');
        }
      }

      if (aboutLogoImg && aboutLogoFallback) {
        if (hasAboutLogo) {
          aboutLogoImg.src = aboutLogoUrl;
          aboutLogoImg.classList.remove('hidden');
          aboutLogoFallback.classList.add('hidden');
        } else {
          aboutLogoImg.src = '';
          aboutLogoImg.classList.add('hidden');
          aboutLogoFallback.classList.remove('hidden');
        }
      }
      
      const phoneElements = ['phone-display', 'footer-phone'];
      phoneElements.forEach(id => {
        const el = document.getElementById(id);
        if (el) el.textContent = general.phone_number || '(0312) 123 45 67';
      });
      
      const addressText = general.address_text || 'Atatürk Mahallesi, Sağlık Caddesi No:15';
      const addressDistrict = general.address_district || 'Merkez';
      const addressCity = general.address_city || 'Ankara';
      const addressLine2 = `${addressDistrict} / ${addressCity}`;
      const addressEl = document.getElementById('address-text');
      if (addressEl) addressEl.innerHTML = addressText + '<br>' + addressLine2;
      const mapAddressEl = document.getElementById('map-address');
      if (mapAddressEl) mapAddressEl.innerHTML = addressText + '<br>' + addressLine2;
      const footerAddressEl = document.getElementById('footer-address');
      if (footerAddressEl) footerAddressEl.textContent = `${addressText}, ${addressLine2}`;

      const weekdayHours = hours.weekday_hours || '08:00 - 17:00';
      const saturdayHours = hours.saturday_hours || '08:00 - 13:00';
      const sundayHours = hours.sunday_hours || 'Kapalı';
      
      ['weekday-hours', 'weekday-hours-contact'].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.textContent = weekdayHours;
      });
      
      ['saturday-hours', 'saturday-hours-contact'].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.textContent = saturdayHours;
      });
      
      ['sunday-hours', 'sunday-hours-contact'].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.textContent = sundayHours;
      });

      const doctorsContainer = document.getElementById('doctors-container');
      if (doctorsContainer) {
        doctorsContainer.innerHTML = doctors.map(doc => `
          <div class="bg-gray-50 rounded-2xl p-6 text-center hover:bg-sky-50 transition-colors">
            <div class="w-24 h-24 mx-auto bg-gradient-to-br ${doc.doctor_color || 'from-sky-400 to-sky-600'} rounded-full flex items-center justify-center mb-4">
              <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
            </div>
            <h4 class="font-semibold text-gray-800 mb-1">${doc.doctor_name || 'Dr. İsim'}</h4>
            <p class="text-sky-600 text-sm font-medium mb-2">${doc.doctor_title || 'Aile Hekimi'}</p>
            <p class="text-gray-500 text-xs">${doc.doctor_experience || '10 yıllık deneyim'}</p>
          </div>
        `).join('');
      }

      const staffContainer = document.getElementById('staff-container');
      if (staffContainer) {
        staffContainer.innerHTML = staff.map(member => `
          <div class="bg-gray-50 rounded-2xl p-6 text-center hover:bg-emerald-50 transition-colors">
            <div class="w-24 h-24 mx-auto bg-gradient-to-br ${member.staff_color || 'from-emerald-400 to-emerald-600'} rounded-full flex items-center justify-center mb-4">
              <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"/>
              </svg>
            </div>
            <h4 class="font-semibold text-gray-800 mb-1">${member.staff_name || 'Personel Adı'}</h4>
            <p class="text-emerald-600 text-sm font-medium mb-2">${member.staff_title || 'Görev'}</p>
            <p class="text-gray-500 text-xs">${member.staff_experience || ''}</p>
          </div>
        `).join('');
      }

      const servicesContainer = document.getElementById('services-container');
      if (servicesContainer) {
        servicesContainer.innerHTML = services.map(srv => `
          <div class="bg-white rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow border border-gray-100">
            <div class="w-14 h-14 ${srv.service_color || 'bg-sky-100'} rounded-xl flex items-center justify-center mb-4">
              <svg class="w-7 h-7 ${srv.service_color?.includes('sky') ? 'text-sky-600' : srv.service_color?.includes('emerald') ? 'text-emerald-600' : srv.service_color?.includes('rose') ? 'text-rose-600' : srv.service_color?.includes('amber') ? 'text-amber-600' : srv.service_color?.includes('indigo') ? 'text-indigo-600' : 'text-teal-600'}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
              </svg>
            </div>
            <h4 class="text-lg font-semibold text-gray-800 mb-2">${srv.service_title || 'Hizmet Başlığı'}</h4>
            <p class="text-gray-600 text-sm leading-relaxed">${srv.service_description || 'Hizmet açıklaması'}</p>
          </div>
        `).join('');
      }
    }

    // Admin panel fonksiyonları kaldırıldı

    async function initializeDefaultData() {
      const defaultData = [
        {
          id: 'general-info',
          type: 'general',
          site_title: 'Taşkent Merkez Aile Sağlığı Merkezi',
          hero_title: 'Sağlığınız Güvende',
          hero_subtitle: 'Ailenizin sağlığı için yanınızdayız. Uzman kadromuz ve modern yaklaşımımızla sizlere en kaliteli birinci basamak sağlık hizmetini sunuyoruz.',
          phone_number: '(0332) 310 48 77',
          address_text: 'Hıra Mahallesi, Vali İzzetbey Caddesi, No:80/A',
          address_district: 'Taşkent',
          address_city: 'Konya',
          logo_url: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRQ8t5_VHGrBqU3hKvvcKMEFHlDXl-W19sT2A&s',
          hero_logo_url: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRQ8t5_VHGrBqU3hKvvcKMEFHlDXl-W19sT2A&s',
          about_logo_url: 'https://uzak.konyasm.gov.tr:15722/img/310/20250807_143948.jpg',
          about_title: 'Güvenilir Sağlık Hizmeti',
          about_p1: 'Aile Sağlığı Merkezimiz, T.C. Sağlık Bakanlığı bünyesinde faaliyet gösteren birinci basamak sağlık kuruluşudur. 2010 yılından bu yana halkımıza kesintisiz sağlık hizmeti sunmaktayız.',
          about_p2: 'Amacımız, koruyucu sağlık hizmetleri başta olmak üzere, aile hekimliği kapsamında tüm vatandaşlarımıza eşit, kaliteli ve erişilebilir sağlık hizmeti sunmaktır.'
        },
        {
          id: 'working-hours',
          type: 'hours',
          weekday_hours: '08:00 - 17:30',
          saturday_hours: 'Kapalı',
          sunday_hours: 'Kapalı'
        },
        {
          id: 'doctor-1',
          type: 'doctor',
          doctor_name: 'Dr. Oğuzhan ÇEŞMECİ',
          doctor_title: 'Aile Hekimi',
          doctor_experience: '',
          doctor_color: 'from-sky-400 to-sky-600'
        },
        {
          id: 'doctor-2',
          type: 'doctor',
          doctor_name: 'Dr. Bekir Can ULUSOY',
          doctor_title: 'Aile Hekimi',
          doctor_experience: '',
          doctor_color: 'from-emerald-400 to-emerald-600'
        },
        {
          id: 'service-1',
          type: 'service',
          service_title: 'Aile Hekimliği Hizmetleri',
          service_description: 'Kayıtlı nüfusunuza yönelik genel muayene, tedavi ve sağlık danışmanlığı hizmetleri sunulmaktadır.',
          service_color: 'bg-sky-100'
        },
        {
          id: 'service-2',
          type: 'service',
          service_title: 'Koruyucu Sağlık Hizmetleri',
          service_description: 'Hastalıkların önlenmesine yönelik tarama, eğitim ve danışmanlık hizmetleri verilmektedir.',
          service_color: 'bg-emerald-100'
        },
        {
          id: 'service-3',
          type: 'service',
          service_title: 'Gebe Takibi',
          service_description: 'Anne adaylarına gebelik süresince düzenli kontrol ve doğum öncesi bakım hizmetleri.',
          service_color: 'bg-rose-100'
        },
        {
          id: 'service-4',
          type: 'service',
          service_title: 'Bebek ve Çocuk İzlemi',
          service_description: '0-6 yaş arası çocuklara periyodik sağlık kontrolleri, büyüme-gelişme takibi yapılmaktadır.',
          service_color: 'bg-amber-100'
        },
        {
          id: 'service-5',
          type: 'service',
          service_title: 'Aşılama Hizmetleri',
          service_description: 'Ulusal Aşı Takvimi\'ne uygun olarak tüm yaş gruplarına aşılama hizmeti verilmektedir.',
          service_color: 'bg-indigo-100'
        },
        {
          id: 'service-6',
          type: 'service',
          service_title: 'Kronik Hastalık Takibi',
          service_description: 'Diyabet, hipertansiyon ve diğer kronik hastalıkların düzenli takibi ve tedavi yönetimi.',
          service_color: 'bg-teal-100'
        },
        {
          id: 'gallery-1769032644644',
          type: 'gallery',
          gallery_image_url: 'https://www.oglenogren.tv/img/asmsitesi/haberler/3_haber_ty47868.jpg',
          gallery_title: 'Mevsimsel Grip Hastalığından Korunmanın En İyi Yolu Grip Aşısıdır',
          gallery_description: 'Hastalıktan korunmada en etkili yöntem grip aşısıdır. Etkin ve güvenli aşılar tüm dünyada 60 yıldan uzun süredir kullanılmaktadır. \n\nDünya Sağlık Örgütü virüsün değişikliklerini yakından takip edip, aşı içeriği için yıllık önerilerde bulunur. Her yıl aşı içeriği Dünya Sağlık Örgütü\'nün tavsiyeleri dikkate alınarak hazırlanır.\n\nSon yıllarda kullanılan aşılarda influenza A\'nın iki alt tipi ve influenza B\'nin de bir alt tipi yer almaktadır. Hazırlanan aşı ile dolaşımda saptanan virüslerle antijenik benzerlik varsa aşı %50-80 korunma sağlayabilir. Sağlıklı erişkinlerde aşı ile sağlanan koruyucu antikor düzeyi influenza A için %80\'in üzerinde bildirilmiştir. Yaşlılarda koruyuculuk daha düşük olmakla birlikte komplikasyonları ve ölümleri azalttığı bilimsel yayınlarla gösterilmiştir.',
          gallery_order: 0
        },
        {
          id: 'gallery-1769033109130',
          type: 'gallery',
          gallery_image_url: 'https://www.oglenogren.tv/img/asmsitesi/haberler/3_haber_as51853.jpg',
          gallery_title: 'Kardiyovasküler Risk Nedir?',
          gallery_description: 'Kardiyovasküler Hastalık (kalp damar hastalığı; KVH), kalbinizi ve vücudunuzun kan damar sistemini olumsuz etkileyen hastalıkları kapsar. Yani hastalığın adındaki kardiyo kalp, vasküler de kan damarları ifade etmektedir.\n\nKardiyovasküler Hastalıklarının büyük çoğunluğu kronik rahatsızlıkları yansıtır. Bu rahatsızlıklar uzun sürede gelişip kendini belli etmektedir. Fakat kardiyovasküler Hastalıklarının bir bölümü kalbi ya da beyni besleyen bir damarda tıkanıklık meydana geldiğinde ansızın oluşan kalp krizleri ve inmeler gibi akut olaylar şeklinde meydana gelebilir.\n\nRiskinizi öğrenmek ve erken önlem almak için Aile Hekiminizden randevu alınız.',
          gallery_order: 1
        },
        {
          id: 'gallery-1769033162745',
          type: 'gallery',
          gallery_image_url: 'https://www.oglenogren.tv/img/asmsitesi/haberler/3_haber_ty39410.jpg',
          gallery_title: 'Erken Teşhis Hayat Kurtarır..!',
          gallery_description: 'Kanser günümüzün önemli bir halk sağlığı sorunu olup gündemdeki yerini korumaktadır. Sebebi bilinen ölümler sıralamasında kalp ve damar hastalıklarından sonra ikinci sıradaki kanser, öldürücülüğü yanında bıraktığı sakatlıklar ve tedavisindeki yüksek maliyetler nedeniyle iş gücünde ve ülke ekonomisinde çok ağır kayıplara neden olmaktadır.\n\nKanser konusunda toplumda farkındalık sağlanması, toplum bilincinin geliştirilmesi ve kanser taramaları, kanserle mücadelede en etkili yöntemlerin başında gelmektedir. Ülkemizde de Dünya Sağlık Örgütünün önerdiği üç kanser türünde tarama yapılmaktadır.\n\nTaraması yapılan kanserler:\n\nKadınlarda meme kanseri tarama programı kapsamında;\n\nAyda bir kendi kendine meme muayenesi (KKMM) yapması için danışmanlığın verilmesi\nYılda bir klinik meme muayenesi\n40-69 yaş arası kadınlara 2 yılda bir mammografi çekimi,\nKadınlarda serviks kanseri tarama programı kapsamında;\n\n30-65 yaş aralığındaki kadınlardan 5 yılda bir smear ve HPV -DNA testi yapılması\nKolorektal kanser taramaları;\n\n50-70 yaş aralığındaki erkek ve kadınlarda 2 yılda bir gaitada gizli kan testi yapılması,\n50-70 yaş arasında 10 yılda bir Kolonoskopi yapılmaktadır.',
          gallery_order: 2
        }
      ];

      for (const item of defaultData) {
        await window.dataSdk.create(item);
      }
    }

    // Admin panel event listener'ları kaldırıldı

    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    
    if (mobileMenuBtn && mobileMenu) {
      mobileMenuBtn.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
      });

      mobileMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
          mobileMenu.classList.add('hidden');
        });
      });
    }

    async function init() {
      const initResult = await window.dataSdk.init(dataHandler);
      
      if (initResult.isOk) {
        // localStorage'da veri olsa bile, eğer varsayılan verilerle uyumlu değilse yeniden yükle
        // Bu, yeni ziyaretçiler için güncel verilerin görünmesini sağlar
        const general = allData.find(d => d.type === 'general');
        const hasDefaultData = general && general.site_title === 'Taşkent Merkez Aile Sağlığı Merkezi';
        
        if (allData.length === 0 || !hasDefaultData) {
          // localStorage'ı temizle ve varsayılan verileri yükle
          if (allData.length > 0 && !hasDefaultData) {
            localStorage.removeItem('asm_website_data');
          }
          await initializeDefaultData();
        }

      }

      renderSite();
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    init();
  </script>
 </body>
</html>
